package Merge

import (
	"fmt"
)

// Merging two streams of ints generated by FromInts. The result will be
// perfectly interleaved. The CurrentGoroutine scheduler used by Println for
// subscribing together with the specific way FromInts is implemented
// will create a repeatable (deterministic) test run with ideal merge
// behavior.
func Example_simple() {
	a := FromInts(0, 2, 4)
	b := FromInts(1, 3, 5)
	MergeInt(a, b).Println()

	// Output:
	// 0
	// 1
	// 2
	// 3
	// 4
	// 5
}

// Merging a tree of observable ints.
func Example_tree() {
	o1 := FromInts(0, 4).Merge(JustInt(1)).DoOnComplete(func() {
		fmt.Println("a")
	})
	o2 := FromInts(2, 5).Merge(JustInt(3)).DoOnComplete(func() {
		fmt.Println("b")
	})
	o1.Merge(o2).DoOnComplete(func() {
		fmt.Println("c")
	}).Println()

	// Output:
	// 0
	// 1
	// 2
	// 3
	// 4
	// 5
	// a
	// b
	// c
}
